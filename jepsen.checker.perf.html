<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>jepsen.checker.perf documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Jepsen</span> <span class="project-version">0.3.7</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jepsen</span></div></div></li><li class="depth-2 branch"><a href="jepsen.adya.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>adya</span></div></a></li><li class="depth-2"><a href="jepsen.checker.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>checker</span></div></a></li><li class="depth-3 branch"><a href="jepsen.checker.clock.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clock</span></div></a></li><li class="depth-3 branch current"><a href="jepsen.checker.perf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>perf</span></div></a></li><li class="depth-3"><a href="jepsen.checker.timeline.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>timeline</span></div></a></li><li class="depth-2 branch"><a href="jepsen.cli.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>cli</span></div></a></li><li class="depth-2 branch"><a href="jepsen.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-2 branch"><a href="jepsen.codec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codec</span></div></a></li><li class="depth-2"><a href="jepsen.control.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>control</span></div></a></li><li class="depth-3 branch"><a href="jepsen.control.clj-ssh.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-ssh</span></div></a></li><li class="depth-3 branch"><a href="jepsen.control.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="jepsen.control.docker.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>docker</span></div></a></li><li class="depth-3 branch"><a href="jepsen.control.k8s.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>k8s</span></div></a></li><li class="depth-3 branch"><a href="jepsen.control.net.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>net</span></div></a></li><li class="depth-3 branch"><a href="jepsen.control.retry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>retry</span></div></a></li><li class="depth-3 branch"><a href="jepsen.control.scp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scp</span></div></a></li><li class="depth-3 branch"><a href="jepsen.control.sshj.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sshj</span></div></a></li><li class="depth-3"><a href="jepsen.control.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2 branch"><a href="jepsen.core.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="jepsen.db.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>db</span></div></a></li><li class="depth-2 branch"><a href="jepsen.faketime.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>faketime</span></div></a></li><li class="depth-2 branch"><a href="jepsen.fs-cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fs-cache</span></div></a></li><li class="depth-2"><a href="jepsen.generator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>generator</span></div></a></li><li class="depth-3 branch"><a href="jepsen.generator.context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>context</span></div></a></li><li class="depth-3 branch"><a href="jepsen.generator.interpreter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interpreter</span></div></a></li><li class="depth-3 branch"><a href="jepsen.generator.test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>test</span></div></a></li><li class="depth-3"><a href="jepsen.generator.translation-table.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>translation-table</span></div></a></li><li class="depth-2 branch"><a href="jepsen.independent.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>independent</span></div></a></li><li class="depth-2 branch"><a href="jepsen.lazyfs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lazyfs</span></div></a></li><li class="depth-2"><a href="jepsen.nemesis.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>nemesis</span></div></a></li><li class="depth-3 branch"><a href="jepsen.nemesis.combined.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>combined</span></div></a></li><li class="depth-3"><a href="jepsen.nemesis.membership.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>membership</span></div></a></li><li class="depth-4"><a href="jepsen.nemesis.membership.state.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state</span></div></a></li><li class="depth-3"><a href="jepsen.nemesis.time.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>time</span></div></a></li><li class="depth-2"><a href="jepsen.net.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>net</span></div></a></li><li class="depth-3"><a href="jepsen.net.proto.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>proto</span></div></a></li><li class="depth-2"><a href="jepsen.os.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>os</span></div></a></li><li class="depth-3 branch"><a href="jepsen.os.centos.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>centos</span></div></a></li><li class="depth-3 branch"><a href="jepsen.os.debian.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>debian</span></div></a></li><li class="depth-3 branch"><a href="jepsen.os.smartos.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>smartos</span></div></a></li><li class="depth-3"><a href="jepsen.os.ubuntu.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ubuntu</span></div></a></li><li class="depth-2 branch"><a href="jepsen.reconnect.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>reconnect</span></div></a></li><li class="depth-2 branch"><a href="jepsen.repl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>repl</span></div></a></li><li class="depth-2 branch"><a href="jepsen.report.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>report</span></div></a></li><li class="depth-2 branch"><a href="jepsen.role.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>role</span></div></a></li><li class="depth-2"><a href="jepsen.store.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>store</span></div></a></li><li class="depth-3 branch"><a href="jepsen.store.format.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>format</span></div></a></li><li class="depth-3"><a href="jepsen.store.fressian.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fressian</span></div></a></li><li class="depth-2"><a href="jepsen.tests.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>tests</span></div></a></li><li class="depth-3 branch"><a href="jepsen.tests.adya.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>adya</span></div></a></li><li class="depth-3 branch"><a href="jepsen.tests.bank.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bank</span></div></a></li><li class="depth-3 branch"><a href="jepsen.tests.causal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>causal</span></div></a></li><li class="depth-3 branch"><a href="jepsen.tests.causal-reverse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>causal-reverse</span></div></a></li><li class="depth-3"><a href="jepsen.tests.cycle.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cycle</span></div></a></li><li class="depth-4 branch"><a href="jepsen.tests.cycle.append.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>append</span></div></a></li><li class="depth-4"><a href="jepsen.tests.cycle.wr.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>wr</span></div></a></li><li class="depth-3 branch"><a href="jepsen.tests.kafka.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>kafka</span></div></a></li><li class="depth-3 branch"><a href="jepsen.tests.linearizable-register.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>linearizable-register</span></div></a></li><li class="depth-3"><a href="jepsen.tests.long-fork.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>long-fork</span></div></a></li><li class="depth-2 branch"><a href="jepsen.util.html"><div class="inner"><span class="tree" style="top: -331px;"><span class="top" style="height: 340px;"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2"><a href="jepsen.web.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="jepsen.checker.perf.html#var-broaden-range"><div class="inner"><span>broaden-range</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-bucket-points"><div class="inner"><span>bucket-points</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-bucket-scale"><div class="inner"><span>bucket-scale</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-bucket-time"><div class="inner"><span>bucket-time</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-buckets"><div class="inner"><span>buckets</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-completions-by-f-type"><div class="inner"><span>completions-by-f-type</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-default-nemesis-color"><div class="inner"><span>default-nemesis-color</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-first-time"><div class="inner"><span>first-time</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-fs-.3Epoints"><div class="inner"><span>fs-&gt;points</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-has-data.3F"><div class="inner"><span>has-data?</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-interval-.3Etimes"><div class="inner"><span>interval-&gt;times</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-invokes-by-f"><div class="inner"><span>invokes-by-f</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-invokes-by-f-type"><div class="inner"><span>invokes-by-f-type</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-invokes-by-type"><div class="inner"><span>invokes-by-type</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-latencies-.3Equantiles"><div class="inner"><span>latencies-&gt;quantiles</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-latency-point"><div class="inner"><span>latency-point</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-latency-preamble"><div class="inner"><span>latency-preamble</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-legend-part"><div class="inner"><span>legend-part</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-nemesis-activity"><div class="inner"><span>nemesis-activity</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-nemesis-alpha"><div class="inner"><span>nemesis-alpha</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-nemesis-lines"><div class="inner"><span>nemesis-lines</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-nemesis-ops"><div class="inner"><span>nemesis-ops</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-nemesis-regions"><div class="inner"><span>nemesis-regions</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-nemesis-series"><div class="inner"><span>nemesis-series</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-plot.21"><div class="inner"><span>plot!</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-point-graph.21"><div class="inner"><span>point-graph!</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-preamble"><div class="inner"><span>preamble</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-qs-.3Ecolors"><div class="inner"><span>qs-&gt;colors</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-quantiles"><div class="inner"><span>quantiles</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-quantiles-graph.21"><div class="inner"><span>quantiles-graph!</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-rate"><div class="inner"><span>rate</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-rate-graph.21"><div class="inner"><span>rate-graph!</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-rate-preamble"><div class="inner"><span>rate-preamble</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-type-.3Ecolor"><div class="inner"><span>type-&gt;color</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-types"><div class="inner"><span>types</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-with-nemeses"><div class="inner"><span>with-nemeses</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-with-range"><div class="inner"><span>with-range</span></div></a></li><li class="depth-1"><a href="jepsen.checker.perf.html#var-without-empty-series"><div class="inner"><span>without-empty-series</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">jepsen.checker.perf</h1><div class="doc"><div class="markdown"><p>Supporting functions for performance analysis.</p>
</div></div><div class="public anchor" id="var-broaden-range"><h3>broaden-range</h3><div class="usage"><code>(broaden-range [a b])</code></div><div class="doc"><div class="markdown"><p>Given a <a href="lower upper">lower upper</a> range for a plot, returns <a href="lower' upper'">lower’ upper’</a>, which covers the original range, but slightly expanded, to fall nicely on integral boundaries.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L346">view source</a></div></div><div class="public anchor" id="var-bucket-points"><h3>bucket-points</h3><div class="usage"><code>(bucket-points dt points)</code></div><div class="doc"><div class="markdown"><p>Takes a time window dt and a sequence of <a href="time, _">time, _</a> points, and emits a seq of <a href="time, points-in-window">time, points-in-window</a> buckets, ordered by time. Time is at the midpoint of the window.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L43">view source</a></div></div><div class="public anchor" id="var-bucket-scale"><h3>bucket-scale</h3><div class="usage"><code>(bucket-scale dt b)</code></div><div class="doc"><div class="markdown"><p>Given a bucket size dt, and a bucket number (e.g. 0, 1, …), returns the time at the midpoint of that bucket.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L22">view source</a></div></div><div class="public anchor" id="var-bucket-time"><h3>bucket-time</h3><div class="usage"><code>(bucket-time dt t)</code></div><div class="doc"><div class="markdown"><p>Given a bucket size dt and a time t, computes the time at the midpoint of the bucket this time falls into.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L28">view source</a></div></div><div class="public anchor" id="var-buckets"><h3>buckets</h3><div class="usage"><code>(buckets dt)</code><code>(buckets dt tmax)</code></div><div class="doc"><div class="markdown"><p>Given a bucket size dt, emits a lazy sequence of times at the midpoints of each bucket.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L34">view source</a></div></div><div class="public anchor" id="var-completions-by-f-type"><h3>completions-by-f-type</h3><div class="usage"><code>(completions-by-f-type history)</code></div><div class="doc"><div class="markdown"><p>Takes a history and returns a map of f -&gt; type-&gt; ops, for all completions in history.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L127">view source</a></div></div><div class="public anchor" id="var-default-nemesis-color"><h3>default-nemesis-color</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L19">view source</a></div></div><div class="public anchor" id="var-first-time"><h3>first-time</h3><div class="usage"><code>(first-time history)</code></div><div class="doc"><div class="markdown"><p>Takes a history and returns the first :time in it, in seconds, as a double.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L88">view source</a></div></div><div class="public anchor" id="var-fs-.3Epoints"><h3>fs-&gt;points</h3><div class="usage"><code>(fs-&gt;points fs)</code></div><div class="doc"><div class="markdown"><p>Given a sequence of :f’s, yields a map of f -&gt; gnuplot-point-type, so we can render each function in a different style.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L159">view source</a></div></div><div class="public anchor" id="var-has-data.3F"><h3>has-data?</h3><div class="usage"><code>(has-data? plot)</code></div><div class="doc"><div class="markdown"><p>Takes a plot and returns true iff it has at least one series with data points.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L376">view source</a></div></div><div class="public anchor" id="var-interval-.3Etimes"><h3>interval-&gt;times</h3><div class="usage"><code>(interval-&gt;times [a b])</code></div><div class="doc"><div class="markdown"><p>Given an interval of two operations <a href="a b">a b</a>, returns the times <a href="time-a time-b">time-a time-b</a> covering the interval. If b is missing, yields <a href="time-a nil">time-a nil</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L244">view source</a></div></div><div class="public anchor" id="var-invokes-by-f"><h3>invokes-by-f</h3><div class="usage"><code>(invokes-by-f)</code><code>(invokes-by-f history)</code></div><div class="doc"><div class="markdown"><p>Takes a history and returns a map of f -&gt; ops, for all invocations. Either a tesswer fold, or runs on a history.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L108">view source</a></div></div><div class="public anchor" id="var-invokes-by-f-type"><h3>invokes-by-f-type</h3><div class="usage"><code>(invokes-by-f-type)</code><code>(invokes-by-f-type history)</code></div><div class="doc"><div class="markdown"><p>A fold which returns a map of f -&gt; type -&gt; ops, for all invocations.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L118">view source</a></div></div><div class="public anchor" id="var-invokes-by-type"><h3>invokes-by-type</h3><div class="usage"><code>(invokes-by-type)</code><code>(invokes-by-type history)</code></div><div class="doc"><div class="markdown"><p>Splits up a sequence of invocations into ok, failed, and crashed ops by looking at their corresponding completions. Either a tesser fold, or runs on a history.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L96">view source</a></div></div><div class="public anchor" id="var-latencies-.3Equantiles"><h3>latencies-&gt;quantiles</h3><div class="usage"><code>(latencies-&gt;quantiles dt qs points)</code></div><div class="doc"><div class="markdown"><p>Takes a time window in seconds, a sequence of quantiles from 0 to 1, and a sequence of <a href="time, latency">time, latency</a> pairs. Groups pairs by their time window and emits a emits a map of quantiles to sequences of <a href="time,
latency-at-that-quantile">time, latency-at-that-quantile</a> pairs, one per time window.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L64">view source</a></div></div><div class="public anchor" id="var-latency-point"><h3>latency-point</h3><div class="usage"><code>(latency-point op)</code></div><div class="doc"><div class="markdown"><p>Given an operation, returns a <a href="time, latency">time, latency</a> pair: times in seconds, latencies in ms.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L152">view source</a></div></div><div class="public anchor" id="var-latency-preamble"><h3>latency-preamble</h3><div class="usage"><code>(latency-preamble test output-path)</code></div><div class="doc"><div class="markdown"><p>Gnuplot commands for setting up a latency plot.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L410">view source</a></div></div><div class="public anchor" id="var-legend-part"><h3>legend-part</h3><div class="usage"><code>(legend-part series)</code></div><div class="doc"><div class="markdown"><p>Takes a series map and returns the list of gnuplot commands to render that series.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L418">view source</a></div></div><div class="public anchor" id="var-nemesis-activity"><h3>nemesis-activity</h3><div class="usage"><code>(nemesis-activity nemeses history)</code></div><div class="doc"><div class="markdown"><p>Given a nemesis specification and a history, partitions the set of nemesis operations in the history into different nemeses, as per the spec. Returns the spec, restricted to just those non-hidden nemeses taking part in this history, and with each spec augmented with two keys:</p>
<p>:ops        All operations the nemeses performed :intervals  A set of <a href="start end">start end</a> paired ops.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L229">view source</a></div></div><div class="public anchor" id="var-nemesis-alpha"><h3>nemesis-alpha</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L20">view source</a></div></div><div class="public anchor" id="var-nemesis-lines"><h3>nemesis-lines</h3><div class="usage"><code>(nemesis-lines plot nemeses)</code></div><div class="doc"><div class="markdown"><p>Given nemesis activity, emits a sequence of gnuplot commands rendering vertical lines where nemesis events occurred.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L282">view source</a></div></div><div class="public anchor" id="var-nemesis-ops"><h3>nemesis-ops</h3><div class="usage"><code>(nemesis-ops nemeses history)</code></div><div class="doc"><div class="markdown"><p>Given a history and a nemeses specification, partitions the set of nemesis operations in the history into different nemeses, as per the spec. Returns the nemesis spec, restricted to just those nemeses taking part in this history, and with each spec augmented with an :ops key, which contains all operations that nemesis performed. Skips :hidden? nemeses.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L193">view source</a></div></div><div class="public anchor" id="var-nemesis-regions"><h3>nemesis-regions</h3><div class="usage"><code>(nemesis-regions plot nemeses)</code></div><div class="doc"><div class="markdown"><p>Given nemesis activity, emits a sequence of gnuplot commands rendering shaded regions where each nemesis was active. We can render a maximum of 12 nemeses; this keeps size and spacing consistent.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L251">view source</a></div></div><div class="public anchor" id="var-nemesis-series"><h3>nemesis-series</h3><div class="usage"><code>(nemesis-series plot nemeses)</code></div><div class="doc"><div class="markdown"><p>Given nemesis activity, constructs the series required to show every present nemesis’ activity in the legend. We do this by constructing dummy data, and a key that will match the way that nemesis’s activity is rendered.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L306">view source</a></div></div><div class="public anchor" id="var-plot.21"><h3>plot!</h3><div class="usage"><code>(plot! opts)</code></div><div class="doc"><div class="markdown"><p>Renders a gnuplot plot. Takes an option map:</p>
<p>:preamble             Gnuplot commands to send first :series               A vector of series maps :draw-fewer-on-top?   If passed, renders series with fewer points on top :xrange               A pair <a href="xmin xmax">xmin xmax</a> which controls the xrange :yrange               Ditto, for the y axis :logscale             e.g. :y</p>
<p>A series map is a map with:</p>
<p>:data       A sequence of data points to render, e,g. [<a href="0 0">0 0</a> <a href="1 2">1 2</a> <a href="2 4">2 4</a>] :with       How to draw this series, e.g. ’points :linetype   What kind of line to use :pointtype  What kind of point to use :title      A string, or nil, to label this series map</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L431">view source</a></div></div><div class="public anchor" id="var-point-graph.21"><h3>point-graph!</h3><div class="usage"><code>(point-graph! test history {:keys [subdirectory nemeses], :as opts})</code></div><div class="doc"><div class="markdown"><p>Writes a plot of raw latency data points.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L498">view source</a></div></div><div class="public anchor" id="var-preamble"><h3>preamble</h3><div class="usage"><code>(preamble output-path)</code></div><div class="doc"><div class="markdown"><p>Shared gnuplot preamble</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L338">view source</a></div></div><div class="public anchor" id="var-qs-.3Ecolors"><h3>qs-&gt;colors</h3><div class="usage"><code>(qs-&gt;colors qs)</code></div><div class="doc"><div class="markdown"><p>Given a sequence of quantiles q, yields a map of q -&gt; gnuplot-color, so we can render each latency curve in a different color.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L167">view source</a></div></div><div class="public anchor" id="var-quantiles"><h3>quantiles</h3><div class="usage"><code>(quantiles qs points)</code></div><div class="doc"><div class="markdown"><p>Takes a sequence of quantiles from 0 to 1 and a sequence of values, and returns a map of quantiles to values at those quantiles.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L52">view source</a></div></div><div class="public anchor" id="var-quantiles-graph.21"><h3>quantiles-graph!</h3><div class="usage"><code>(quantiles-graph! test history {:keys [subdirectory nemeses]})</code></div><div class="doc"><div class="markdown"><p>Writes a plot of latency quantiles, by f, over time.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L527">view source</a></div></div><div class="public anchor" id="var-rate"><h3>rate</h3><div class="usage"><code>(rate history)</code></div><div class="doc"><div class="markdown"><p>Map breaking down the mean rate of completions by f and type, plus totals at each level.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L136">view source</a></div></div><div class="public anchor" id="var-rate-graph.21"><h3>rate-graph!</h3><div class="usage"><code>(rate-graph! test history {:keys [subdirectory nemeses]})</code></div><div class="doc"><div class="markdown"><p>Writes a plot of operation rate by their completion times.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L573">view source</a></div></div><div class="public anchor" id="var-rate-preamble"><h3>rate-preamble</h3><div class="usage"><code>(rate-preamble test output-path)</code></div><div class="doc"><div class="markdown"><p>Gnuplot commands for setting up a rate plot.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L566">view source</a></div></div><div class="public anchor" id="var-type-.3Ecolor"><h3>type-&gt;color</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Takes a type of operation (e.g. :ok) and returns a gnuplot color.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L187">view source</a></div></div><div class="public anchor" id="var-types"><h3>types</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>What types are we rendering?</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L183">view source</a></div></div><div class="public anchor" id="var-with-nemeses"><h3>with-nemeses</h3><div class="usage"><code>(with-nemeses plot history nemeses)</code></div><div class="doc"><div class="markdown"><p>Augments a plot map to render nemesis activity. Takes a nemesis specification: a collection of nemesis spec maps, each of which has keys:</p>
<p>:name     A string uniquely naming this nemesis :color    What color to use for drawing this nemesis (e.g. “#abcd01”) :start    A set of :f’s which begin this nemesis’ activity :stop     A set of :f’s which end this nemesis’ activity :fs       A set of :f’s otherwise related to this nemesis :hidden?  Skips rendering this nemesis.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L321">view source</a></div></div><div class="public anchor" id="var-with-range"><h3>with-range</h3><div class="usage"><code>(with-range plot)</code></div><div class="doc"><div class="markdown"><p>Takes a plot object. Where xrange or yrange are not provided, fills them in by iterating over each series :data.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L382">view source</a></div></div><div class="public anchor" id="var-without-empty-series"><h3>without-empty-series</h3><div class="usage"><code>(without-empty-series plot)</code></div><div class="doc"><div class="markdown"><p>Takes a plot, and strips out empty series objects.</p>
</div></div><div class="src-link"><a href="https://github.com/jepsen-io/jepsen/blob/v0.3.7/jepsen/src/jepsen/checker/perf.clj#L371">view source</a></div></div></div></body></html>